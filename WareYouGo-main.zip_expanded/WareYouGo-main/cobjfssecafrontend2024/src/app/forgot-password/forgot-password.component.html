<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>
<body>
    <!-- <app-header></app-header> -->
    <!-- <header>
        <h1 style="text-shadow: 2px 2px 4px #000000;color: #ccd7a9;">Ware-You-Go</h1>
     </header> -->
    <div id="container">
        <div class="user_card">
        <form #form="ngForm">
        <div id="userDetails">
            <h2 id="detailHeading" style=" font-weight: bold;" class="change-password-heading">Forgot Password</h2>
        </div>
        <div>
             <input type="text" placeholder="Enter Your Email" id="email" name="email" [(ngModel)]="user.email" required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$">
                <div *ngIf="form.controls && form.controls['email'] && form.controls['email'].touched && form.controls['email'].invalid"
                    class="error">Valid Email Required
                </div>
        </div>

        <div>
            <input type="text" placeholder="Enter Mobile Number" id="mobile" name="mobile" [(ngModel)]="user.mobileNumber" required pattern="[0-9]{10}">
               <div *ngIf="form.controls && form.controls['mobile'] && form.controls['mobile'].touched && form.controls['mobile'].invalid"
                   class="error">Valid Mobile Number Required
               </div>
       </div>
            
        <div class="password-container">
         <input #npasswordInput type="{{ newPasswordFieldType }}" id="newpassword" placeholder="New Password" name="newpassword" [(ngModel)]="formData['newpassword']" required minlength="8">
            <i class="fas" [ngClass]="newPasswordIconClass" (click)="toggleNewPasswordVisibility()"></i>
            <div *ngIf="form.controls && form.controls['newpassword'] && form.controls['newpassword'].touched && form.controls['newpassword'].invalid" class="error">Password is invalid</div>
        </div>


        <div class="password-container">
         <input #cpasswordInput type="{{ confirmPasswordFieldType }}" id="confirmpassword" placeholder="Confirm Password" name="confirmpassword" [(ngModel)]="formData['confirmpassword']" required minlength="8">
            <i class="fas" [ngClass]="confirmPasswordIconClass" (click)="toggleConfirmPasswordVisibility()"></i>
             <div *ngIf="form.controls && form.controls['confirmpassword'] && form.controls['confirmpassword'].touched && form.controls['confirmpassword'].invalid" class="error">Password is invalid</div>
        </div>

            
        <div id=button1>
            <button  type="submit" [disabled]="form.invalid" (click)="forgotPassword()">Confirm</button>
        </div>
        </form>

        <div class="message" style="color: red; text-align: center;" *ngIf="errormessage">{{errormessage }}</div>
        <div class="message" style="color: green;text-align: center;" *ngIf="successmessage">{{ successmessage }}</div>
        </div>
    </div>
    
</body>
